<%- include("./../partials/header.ejs") %>

<div class="body-container">
    <div class="main-container">
        <%- include("./../partials/menu.ejs") %>
        <main class="main">
            <div class="form-root">
                <div class="form-container">
                    <div class="form-header"></div>
                    <form class="form-body" method="POST" action="/project/update/posted">
                        <input name="f_id" required hidden value="<%= project_id %>">
                        <label class="form-input-label" for="name" id="nameLabel">
                            <span>Project Name</span>
                            <div class="form-input">
                                <input class="form-text-input" type="text" aria-invalid="false" id="name" name="f_name" autocomplete="off" required placeholder="Enter a project name" value="<%= project.name %>">
                            </div>
                        </label>
                        <label class="form-input-label" for="name" id="nameLabel">
                            <span>Project Description</span>
                            <div class="form-input">
                                <textarea class="form-textarea-input" aria-invalid="false" id="description" name="f_description" rows="5" cols="33"><%= project.description %></textarea>
                            </div>
                        </label>
                        <label class="form-input-label" for="startDateInput" id="startDateLabel">
                            <span>Start Date</span>
                            <div class="form-input">
                                <input class="form-date-input" type="date" aria-invalid="false" id="startDateInput" name="f_start_date" value="<%= project.start_date %>">
                            </div>
                        </label>
                        <label class="form-input-label" for="endDateInput" id="endDateLabel">
                            <span>End Date</span>
                            <div class="form-input">
                                <input class="form-date-input" type="date" aria-invalid="false" id="endDateInput" name="f_end_date" value="<%= project.end_date %>">
                            </div>
                        </label>
                        <div class="form-input-container flex-end flex-align-end flex-gap">
                            <label class="form-input-label" for="reportFreqInput">
                                <span>Choose a report frequency:</span>
                                <div class="form-input">
                                    <select name="f_report_freq" id="reportFreqInput" class="form-select-input">
                                        <option value="" <% if (project.report_frequency === '') { %>selected<% } %>>None</option>
                                        <option value="daily" <% if (project.report_frequency === 'daily') { %>selected<% } %>>Daily</option>
                                        <option value="weekly" <% if (project.report_frequency === 'weekly') { %>selected<% } %>>Weekly</option>
                                        <option value="fortnightly" <% if (project.report_frequency === 'fortnightly') { %>selected<% } %>>Fortnightly</option>
                                        <option value="monthly" <% if (project.report_frequency === 'monthly') { %>selected<% } %>>Monthly</option>
                                    </select>
                                </div>
                            </label>
                            <label class="form-input-label" for="reportDeadlineInput" id="reportDeadlineLabel">
                                <span>Report Deadline</span>
                                <div class="form-input">
                                    <input class="form-date-input" type="datetime" aria-invalid="false" id="reportDeadlineInput" name="f_report_deadline" value="<%= project.report_deadline %>">
                                </div>
                            </label>
                        </div>
                        <div class="primary-flex primary-row">
                            <button class="button" type="submit">
                                <span>Save changes</span>
                            </button>
                            <button class="button" type="reset">
                                <span>Cancel changes</span>
                            </button>
                        </div>
                        <a href="/project/archive/<%= project_id %>">
                            <button class="button form-button" type="button">
                                <span>Archive project</span>
                            </button>
                        </a>
                        <a href="/dashboard">
                            <button class="button form-button" type="button">
                                <span>Go back</span>
                            </button>
                        </a>
                    </form>
                </div>
            </div>
        </main>
    </div>

    <script type="text/javascript" src="/js/project.js" defer></script>

    <%- include("./../partials/footer.ejs") %>
</div>
